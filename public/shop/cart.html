<!doctype html><html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width,initial-scale=1'><title>Cart</title><link rel='stylesheet' href='assets/shop.css'></head><body>
<div class='app'><div id='header'></div><div id='list'></div><div class='card between row'><b>รวม</b><b id='total'></b></div><a href='checkout.html' class='btn btn-primary' style='display:block;text-align:center'>ไปชำระเงิน</a></div><div id='toast' class='toast'></div><div id='bottomNav'></div>
<script src='assets/api.js'></script><script src='assets/cart.js'></script><script src='assets/app.js'></script><script>
renderHeader('Cart');renderBottomNav('cart');render();
function render(){const {items,total}=cartStore.calcTotals();document.getElementById('total').textContent=formatMoney(total);document.getElementById('list').innerHTML=items.map(i=>`<div class='card'><div class='row'><img class='thumb' src='${i.image_url||''}'><div><div>${i.name}</div><div class='muted'>${i.variant_name||'-'}</div><div>${formatMoney(i.price)}</div></div></div><div class='row' style='margin-top:8px'><button class='btn btn-ghost' onclick='chg(${i.product_id},${i.variant_id},-1)'>-</button><b>${i.qty}</b><button class='btn btn-ghost' onclick='chg(${i.product_id},${i.variant_id},1)'>+</button><button class='btn' onclick='delItem(${i.product_id},${i.variant_id})'>ลบ</button></div></div>`).join('')||"<div class='card'>ตะกร้าว่าง</div>"}
function chg(p,v,d){const it=cartStore.loadCart().find(x=>x.product_id===p&&x.variant_id===v);if(!it)return;cartStore.updateQty(p,v,it.qty+d);render()} function delItem(p,v){cartStore.removeItem(p,v);render()}
</script></body></html>
