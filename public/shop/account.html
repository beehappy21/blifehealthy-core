<!doctype html><html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width,initial-scale=1'><title>Account</title><link rel='stylesheet' href='assets/shop.css'></head><body>
<div class='app'><div id='header'></div>
  <div class='card'>
    <h3>Login</h3>
    <label for='loginInput'>รหัสสมาชิก</label><input id='loginInput' class='input' placeholder='รหัสสมาชิก'>
    <input id='password' class='input' type='password' placeholder='password' style='margin-top:8px'>
    <button id='loginBtn' class='btn btn-primary' style='margin-top:8px'>Login</button>
  </div>
  <div class='card'>
    <h3>สมัครสมาชิกใหม่</h3>
    <p class='muted'>ไปยังหน้าสมัครสมาชิกที่รองรับโค้ดผู้แนะนำ</p>
    <a href='register.html' class='btn btn-ghost' style='display:inline-block;text-decoration:none'>ไปหน้า Register</a>
  </div>
  <div class='card'><button id='meBtn' class='btn btn-ghost'>Load /api/me</button><button id='logoutBtn' class='btn'>Logout</button><pre id='meBox' class='muted'></pre></div>
</div><div id='toast' class='toast'></div><div id='bottomNav'></div>
<script src='assets/api.js'></script><script src='assets/app.js'></script><script>
renderHeader('Account');renderBottomNav('account');loginBtn.onclick=login;meBtn.onclick=me;logoutBtn.onclick=logout;
async function login(){try{const d=await api.post('/api/auth/login',{login:loginInput.value,password:password.value});shopSettings.setToken(d.token);showToast('login success','success');setTimeout(()=>location.href='my-account.html',250)}catch(e){showToast(e.message,'error')}}
async function me(){try{meBox.textContent=JSON.stringify(await api.get('/api/me'),null,2)}catch(e){showToast(e.message,'error')}}
async function logout(){try{await api.post('/api/auth/logout',{});shopSettings.setToken('');showToast('logout success','success')}catch(e){showToast(e.message,'error')}}
</script></body></html>
